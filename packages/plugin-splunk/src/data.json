{
    "message": {
        "type": "error",
        "data": {
            "name": "Function failed",
            "message": "Function failed: Cannot read properties of undefined (reading 'find')",
            "source": {
                "id": "d5cda3c2.4e62e",
                "type": "Function",
                "name": "Filter and Map Response",
                "count": 1
            },
            "stack": "Function node:d5cda3c2.4e62e [Filter and Map Response]:35\n    let company = msg.assetDetails.Tenants.find((tenant) => tenant.id === user.CompanyId);\n                                           ^\n\nTypeError: Cannot read properties of undefined (reading 'find')\n    at Function node:d5cda3c2.4e62e [Filter and Map Response]:35:44\n    at Array.map (<anonymous>)\n    at Function node:d5cda3c2.4e62e [Filter and Map Response]:28:25\n    at Function node:d5cda3c2.4e62e [Filter and Map Response]:59:11\n    at Script.runInContext (node:vm:141:12)\n    at FunctionNode.<anonymous> (/var/task/node_modules/@kumologica/runtime/src/nodes/core/transformation/function.js:294:25)\n    at FunctionNode.emit (node:events:513:28)\n    at FunctionNode.emit (node:domain:489:12)\n    at FunctionNode.Node.receive (/var/task/node_modules/@kumologica/runtime/src/runtime/lib/nodes/Node.js:365:10)"
        },
        "message": "Function failed: Cannot read properties of undefined (reading 'find')",
        "meta": {
            "protocol": "http",
            "requestId": "9a27933e-0656-4a09-8b1c-459b2e78664f",
            "action": "GET",
            "resource": "/users/v2",
            "username": "7fe15a9a-ecf0-4131-b72c-9b2be2e97080",
            "sourceIp": "193.119.107.241",
            "queryParameters": { "domain": "MGR:liv-aston", "type": "workers" },
            "pathParameters": { "proxy": "v2" }
        }
    },
    "severity": "error"
}
